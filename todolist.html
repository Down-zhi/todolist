<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./todo.css">
    <title>Todo List</title>
    <style>
        /* 添加基本样式，如需要可以替换为链接到外部CSS文件 */
    </style>
</head>

<body>

    <div class="todo-container">
        <h1>Todolist</h1>
        <h2>What needs to be done ?</h2>
        <div class="buts">
            <button id="reset" class="button">All</button>
            <button id="active" class="button">Active</button>
            <button id="Completed" class="button3">Completed</button>
        </div>
        <form id="editForm" style="display: none;">
            <input type="text" id="newTextInput" placeholder="请输入新的文本" />
            <button type="submit">保存</button>
          </form>
        <form id="input-form">
            <input type="text" id="todo-input" class="todo-input" placeholder="Add a task" />
            <br>
            <button id="todo-button" class="todo-button">Add</button>
            <ul id="todo-list" class="todo-list"></ul>
        </form>
    </div>

    <script>
    //    fetch('http://127.0.0.1:4000/todo', { mode: "cors" })
    //    .then((res) => res.json()).
    //    then(res => { console.log(res.data); return res })
    //    .then((res) => console.log('------>', res, JSON.stringify(res, null, 2)))
  
    //接收json数据      默认get方法
//     fetch('http://127.0.0.1:4000/todo')
//   .then(response => {
//     if (!response.ok) {
//       throw new Error('Network response was not ok');
//     }
//     return response.json();
//   })
//   .then(res=> {
//     console.log(res.data);// 在这里使用接收到的 JSON 数据 //纯文本数据的话 return res.text()
//   })
//   .catch(error => {
//     console.error('Error:', error);
//   });
  

//    fetch('http://127.0.0.1:4000/todo')
//    .then(res=>{
//     return res.json();
//    })
//    .then(res=>{
   
//    res.data.forEach(item => {  //取id
//     console.log(item.id);
//    });
//    let title=res.data.map(item=>item.title)//只取data数据的title
//     console.log(title);
//    })


   //post方法
//    const data = { title: '吃中午饭' };
//    fetch('http://127.0.0.1:4000/todo',{method:'POST', headers: {
//     'Content-Type': 'application/json'},body:JSON.stringify(data) })
//    .then(res=>{
//     return res.json();
//    })
//    .then(res=>{
//     console.log(res.data);
//    })

// fetch(`http://127.0.0.1:4000/todo/${id}`,{method:'DELETE'})

// .then(res=>
// res.json())
// .then(res=>console.log('delete------->',res.message))
    </script>

</body>
<script src="./todo.js"></script>

</html>